import matplotlib.pyplot as plt
import numpy as np
import time

small_graph = ["CG", "WV", "EN", "SD"]
middle_graph = ["DB", "wiki_fy", "ND"]
large_graph = ["CP", "LJ", "WZ"]


filedata = {
    'CG':{
        "x_data": [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20],
        'y_data_s': [0.295819, 0.229018, 0.177879, 0.124409, 0.0773619, 0.0420877, 0.0175154, 0.00649272, 0.00259548, 0.001055, 0.000412343, 0.000151791, ],
        'y_data_b1': [0.295658, 0.194372, 0.104277, 0.0524606, 0.0257041, 0.0124434, 0.00598926, 0.00287465, 0.00137781, 0.000659926, 0.000315973, 0.000151262, ],
        'y_data_b2': [1.00002, 0.657437, 0.352705, 0.177441, 0.0869407, 0.0420881, 0.0202579, 0.00972312, 0.00466027, 0.00223211, 0.00106874, 0.000511625, ],
        'y_data_beta': [0.191612, 0.12597, 0.067581, 0.0339991, 0.0166585, 0.00806441, 0.00388157, 0.00186302, 0.000892944, 0.00042769, 0.000204778, 9.80311e-05, ],
    },
    'WV':{
        "x_data": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18],
        'y_data_s': [0.30011, 0.237771, 0.193888, 0.141291, 0.106874, 0.0807248, 0.0610521, 0.0450647, 0.0325015, 0.0229076, 0.0165779, 0.0121397, 0.00884112, 0.00632251, 0.00450662, 0.00315698, 0.00207555],
        'y_data_b1': [0.226366, 0.230849, 0.187392, 0.141129, 0.103001, 0.0740944, 0.0529315, 0.0376846, 0.0267844, 0.0190211, 0.0135023, 0.0095827, 0.00680023, 0.00482543, 0.00342403, 0.00242959, 0.00172396, ],
        'y_data_b2': [0.300119, 0.306062, 0.248447, 0.18711, 0.136559, 0.0982352, 0.0701772, 0.0499627, 0.0355111, 0.0252184, 0.0179015, 0.0127048, 0.00901581, 0.00639761, 0.00453962, 0.00322118, 0.00228564, ],
        'y_data_beta': [0.319275, 0.325598, 0.264305, 0.199053, 0.145276, 0.104506, 0.0746566, 0.0531518, 0.0377777, 0.0268281, 0.0190441, 0.0135158, 0.00959129, 0.00680597, 0.00482938, 0.00342679, 0.00243153, ],
    },
    'EN':{
        "x_data": [17, 18, 19, 20, 21, 22, 23],
        'y_data_s': [0.295231, 0.195828, 0.127731, 0.0635921, 0.0234058, 0.00686284, 0.00213469],
        'y_data_b1': [0.295197, 0.161403, 0.0727372, 0.0308681, 0.012783, 0.00523512, 0.00213264, ],
        'y_data_b2': [0.608178, 0.332529, 0.149856, 0.0635958, 0.026336, 0.0107856, 0.00439376, ],
'y_data_beta': [0.154635, 0.0845485, 0.0381023, 0.0161698, 0.00669617, 0.00274234, 0.00111715, ],
    },
    'SD':{
        "x_data": [17, 18, 19, 20, 21, 22, 23],
        'y_data_s': [0.271295, 0.180065, 0.118799, 0.0650015, 0.0314599, 0.0130237, 0.00472285],
        'y_data_b1': [0.270943, 0.173392, 0.0906848, 0.0445037, 0.021277, 0.010052, 0.00472194, ],
        'y_data_b2': [0.400751, 0.256463, 0.134131, 0.0658252, 0.0314706, 0.0148678, 0.0069842, ],
'y_data_beta': [0.185705, 0.118843, 0.0621554, 0.0305029, 0.0145832, 0.00688963, 0.00323642, ],
    },
    'wiki_fy':{
        "x_data": [16, 17, 18, 19, 20, 21, 22, 23],
        'y_data_s': [0.280518, 0.178463, 0.107438, 0.0503134, 0.0231894, 0.010888, 0.00486943, 0.00242604],
        'y_data_b1': [0.278743, 0.178383, 0.0932953, 0.0457848, 0.0218895, 0.0103413, 0.00485787, 0.00227565, ],
        'y_data_b2': [0.321083, 0.20548, 0.107467, 0.0527395, 0.0252144, 0.0119122, 0.00559577, 0.00262132, ],
'y_data_beta': [0.185705, 0.118843, 0.0621554, 0.0305029, 0.0145832, 0.00688963, 0.00323642, 0.00151609, ],
    },
    'ND':{
        "x_data": [22, 23, 24, 25, 26, 27, 28, 29, 30, ],
        'y_data_s': [0.355371, 0.263359, 0.195451, 0.116561, 0.0613552, 0.0327888, 0.017087, 0.00762937, 0.00291182, ],
        'y_data_b1': [0.355317, 0.252097, 0.145347, 0.078443, 0.0411972, 0.0213686, 0.0110178, 0.00566437, 0.00290791, ],
        'y_data_b2': [0.551087, 0.390996, 0.22543, 0.121663, 0.0638957, 0.0331421, 0.0170884, 0.00878528, 0.00451008, ],
'y_data_beta': [0.209379, 0.148555, 0.0856495, 0.0462245, 0.0242765, 0.012592, 0.00649254, 0.00333787, 0.00171356, ],
    },
'DB':{
        "x_data": [15, 16, 17, 18, 19, 20, 21, 22, 23, ],
        'y_data_s': [0.308751, 0.262538, 0.195303, 0.147807, 0.101159, 0.0615631, 0.0311142, 0.0123569, 0.00440229, ],
        'y_data_b1': [0.30795, 0.235645, 0.145912, 0.0844209, 0.0474911, 0.026375, 0.0145579, 0.00801121, 0.00440199, ],
        'y_data_b2': [0.719008, 0.550189, 0.340678, 0.197108, 0.110883, 0.0615808, 0.0339901, 0.0187047, 0.0102778, ],
'y_data_beta': [0.228619, 0.174941, 0.108324, 0.0626733, 0.0352569, 0.0195805, 0.0108077, 0.00594744, 0.00326799, ],
    },
}


def plot_b1b2sj(filename):
    t1 = time.time()

    fontsize = 80
    plt.figure(figsize=(24, 18))
    plt.xlabel('Rank', fontsize=fontsize)
    plt.ylabel('Value', fontsize=fontsize)
    plt.tick_params(labelsize=fontsize, pad=20)

    ax = plt.gca()
    ax_width = 4
    ax.spines['bottom'].set_linewidth(ax_width)
    ax.spines['left'].set_linewidth(ax_width)
    ax.spines['right'].set_linewidth(ax_width)
    ax.spines['top'].set_linewidth(ax_width)
    plt.yscale('log')
    plt.xscale('log')

    plt.grid(linewidth=3)

    lineweight = 8.0
    markersize = 20

    x_data = [np.power(2, x_) for x_ in filedata[filename]['x_data']]
    plt.plot(x_data, filedata[filename]["y_data_s"], marker='o', linestyle="-", label=r'$\sum{s_j}$', color='black', linewidth=lineweight, markersize=markersize)
    plt.plot(x_data, filedata[filename]["y_data_b1"], marker='o', linestyle="--", label='b1', color='lightgreen', linewidth=lineweight, markersize=markersize)
    plt.plot(x_data, filedata[filename]["y_data_b2"], marker='o', linestyle="--", label='b2', color='lightcoral', linewidth=lineweight, markersize=markersize)

    f = plt.gcf()
    f.savefig(f'./res_pic/{filename}.png', bbox_inches='tight' )
    f.clear()
    print(f"{filename} plot finished. cost {time.time() - t1}s")

if __name__ == "__main__":
    filelist = ['CG', 'WV', 'EN', 'SD', 'wiki_fy', 'DB', 'ND']
    for filename in filelist:
        plot_b1b2sj(filename)






